

Laravel Sail プロジェクトを Lightsail で本番動作させるまで

１. Lightsail インスタンスの作成

Ubuntu 22.04 を選択
SSH 接続するための秘密鍵ファイル（プライベートキー）をダウンロード

２. SSH 接続設定

VSCodeの拡張機能 [Remote - SSH] をインストール

キーの権限設定:

chmod 600 ~/Downloads/LightsailDefaultKey-ap-northeast-1.pem

SSH 設定ファイル (VSCode内)

Host lightsail-laravel
    HostName 54.250.78.19
    User ubuntu
    IdentityFile ~/Downloads/LightsailDefaultKey-ap-northeast-1.pem

SSH 接続確認

ssh -i ~/Downloads/LightsailDefaultKey-ap-northeast-1.pem ubuntu@54.250.78.19

３. パッケージの更新 & ツール統合インストール

# パッケージリストを更新し、既存のソフトを最新にする
sudo apt update && sudo apt upgrade -y
# Docker, docker-compose, git, unzip をインストール
sudo apt install -y docker.io docker-compose git unzip
# ubuntu ユーザーに docker グループ権限を与える（sudo なしで docker 実行可能に）
sudo usermod -aG docker ubuntu

４. GitHub からプロジェクトクローン

git clone https://github.com/junjimoriyama/laravel-quiz-qpp.git
cd laravel-quiz-qpp

５. Laravel 環境設定

cp .env.example .env
nano .env

.env は必要に応じてAPP_URL, DB_USERNAME, DB_PASSWORDを変更

６. Composer install
# 開発環境のlaravelプロジェクトのcomposer.json に書かれた依存情報を元に本番環境でも 開発時と全く同じ Laravel の動作環境を再現する。
# カレントディレクトリを Docker 内の /app にマウント（共有）
# 作業ディレクトリを /app に設定
# Laravelの依存パッケージをインストール（bcmath 拡張がなくても続行）

docker run --rm \
  -v $(pwd):/app \
  -w /app \
  composer install --ignore-platform-req=ext-bcmath

７. Sail 起動

./vendor/bin/sail up -d

容量不足の場合: Swap 設定

sudo fallocate -l 1G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

８. Laravel 開始

./vendor/bin/sail artisan key:generate

９. DB接続問題の解決

.env内:

DB_USERNAME=sail
DB_PASSWORD=password

MySQLコンテナが動いてることを確認: docker ps

１０. セッション / ログイン

sessions テーブルをマイグレーション

./vendor/bin/sail artisan migrate

１１. レベルデータ (LevelSeeder) の作成

./vendor/bin/sail artisan make:seeder LevelSeeder

database/seeders/LevelSeeder.php

use App\Models\Level;

Level::insert([
  ['key' => 'basic', 'label' => '初級'],
  ['key' => 'mid', 'label' => '中級'],
  ['key' => 'pro', 'label' => '上級'],
]);

１２. Seeder 実行

./vendor/bin/sail artisan db:seed --class=LevelSeeder

１３. git pull による本番コード反映

mv database/seeders/LevelSeeder.php backup_LevelSeeder.php
# Git pull
git pull origin main
# 必要であれば LevelSeeder.php を元に戻す
mv backup_LevelSeeder.php database/seeders/LevelSeeder.php

１４. バージョン管理

git remote set-url origin https://github.com/ユーザ名/新リポジトリ.git

上記の所有手順は、Laravel Sail + Docker の開発環境を Lightsail 上に本番投入するための正規的なフローです。
追加する情報やステップがあれば追加できます！


ドメインの取得
xserverを使い取得　この時点ではSSL化されていない

whoisに登録　代理

lightsailから静的IPを取得
一度アクセスできるか確認

DNSレコード設定
@	A	13.231.79.150	3600	0
www	A	13.231.79.150	3600	0

XdomainからDNSサーバーを設定しないと


.quiz-app-laravel-moriyama.xyz	A	13.231.79.150	3600	-　こっちは空欄
www.quiz-app-laravel-moriyama.xyz	A	13.231.79.150	3600	-を追加


・SSL発行
 Let's Encrypt の証明書発行ツールをインストール	Certbot（またはBitnamiなら built-in のスクリプト）























ssh -i ~/Downloads/LightsailDefaultKey-ap-northeast-1.pem ubuntu@54.250.78.19

１,lightsailでインスタンス作成
・ubuntu22.04

2,Lightsail に SSH 接続する
・VSCodeで [Remote - SSH 拡張機能] をインストール
・ターミナルでchmod 600 ~/Downloads/LightsailDefaultKey-ap-northeast-1.pem実行
・VSCodeのSSH設定ファイルを開く
記述
Host lightsail-laravel
    HostName 54.250.78.19  # ← 自分のパブリックIP
    User ubuntu
    IdentityFile ~/Downloads/LightsailDefaultKey-ap-northeast-1.pem

・ssh -i ~/Downloads/LightsailDefaultKey-ap-northeast-1.pem ubuntu@54.250.78.19をプロジェクトのターミナルに入力→yesボタンクリック

3,新しく開いたvscodeで設定
パッケージ情報を更新＆必要なアップデートを自動実行（-y で確認省略）、必要なツール（Docker / Git / unzip など）を一括でインストール、ubuntu ユーザーを Docker グループに追加（sudo なしで docker を使えるように）
・ubuntu@ip-172-26-1-173:~$ sudo apt update && sudo apt upgrade -y
　sudo apt install -y docker.io docker-compose git unzip
　sudo usermod -aG docker ubuntu　をまとめて実行

ubuntu@ip-172-26-1-173:~$ git clone https://github.com/junjimoriyama/laravel-quiz-qpp.git
Cloning into 'laravel-quiz-qpp'...
Username for 'https://github.com': 
Password for 'https://junjimoriyama@github.com': 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
・GitHub からのクローン
cd laravel-quiz-qppでubuntu@ip-172-26-1-173:~/laravel-quiz-qpp$ なるのを確認

cp .env.example .env
↓
nano .env

一番下にカーソルがある状態で…

Ctrl + O を押す（Oはオーです）
　→ File Name to Write: .env と表示される

そのまま Enter を押す（上書き保存）

次に Ctrl + X で Nano を終了します


・docker run --rm \
  -v $(pwd):/app \
  -w /app \
  composer install
を実行

↓ エラーになる

sudo apt update && sudo apt upgrade -y\
↓
sudo apt install -y docker.io docker-compose git unzip
↓
新しいカーネルが利用可能なので再起動すると反映されますよ」というお知らせ enter
↓
アップグレードによってライブラリが更新されたため、影響を受けるサービス（デーモン）を再起動しますか？」という確認画面 enter
↓
sudo usermod -aG docker ubuntu
↓
exit
↓
ssh -i ~/Downloads/LightsailDefaultKey-ap-northeast-1.pem ubuntu@54.250.78.19
↓
cd laravel-quiz-qpp
↓
# composer install（初回のみ）
docker run --rm \
  -v $(pwd):/app \
  -w /app \
  composer install --ignore-platform-req=ext-bcmath

↓  
./vendor/bin/sail up -d
↓
容量不足でエラー

sudo fallocate -l 1G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile　※一つずつ実行

↓↓↓

ubuntu@ip-172-26-1-173:~/laravel-quiz-qpp$ ./vendor/bin/sail up -d
laravel-quiz-qpp_laravel.test_1   start-container   Exit 0        
Shutting down old Sail processes...
Creating network "laravel-quiz-qpp_sail" with driver "bridge"
Creating laravel-quiz-qpp_mysql_1 ... done
Creating laravel-quiz-qpp_laravel.test_1 ... done

・無事にIpアドレスで接続できる

・ ./vendor/bin/sail artisan key:generate

・LaravelがMySQLに接続できない

DB_USERNAME=laravel  # これが正しい場合、そのまま
DB_PASSWORD=secret    # 正しいパスワードに変更

cd laravel-quiz-qpp



sessions テーブルのマイグレーションを実行
./vendor/bin/sail artisan migrate

・ログイン情報ない　シーダーをマイグレーション

・レベルのデータがない
開発用データベースと本番用データベースは別であり引き継げない


cd ~/laravel-quiz-qpp
Username: junjimoriyama
Password: [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]

docker ps でwebサーバーの確認

webサーバー入っていない

１、まずはコンテナ内で nginx をインストール
apt update
apt install -y nginx

・php artisan serveが80番ポートを使っていてこれを落とす

service nginx startでnginxに切り替える

apt install -y certbot python3-certbot-nginx
で証明書取得

certbot --nginx

Lightsail のネットワーク設定で ポート 443（HTTPS）解放

dockerでも443でアクセスできる様にする

ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ docker exec -it laravel-quiz-qpp_laravel.test_1 bash
root@9bbdf56580c2:/var/www/html# nginx -v
nginx version: nginx/1.24.0 (Ubuntu)
root@9bbdf56580c2:/var/www/html# pkill -f "artisan serve"
root@9bbdf56580c2:/var/www/html# ps aux | grep artisan
root         516  0.0  0.1   3528  1792 pts/0    S+   23:41   0:00 grep --color=auto artisan
root@9bbdf56580c2:/var/www/html# 

ドッカーのnignxからは証明書にアクセスできない


ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
・ホスト側でnginxをインストール

・nginxファイルの書き換え
server {
    listen 80;
    server_name quiz-app-laravel-moriyama.xyz www.quiz-app-laravel-moriyama.xyz;

    root /home/ubuntu/laravel-quiz-qpp/public;
    index index.php index.html;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/run/php/php8.2-fpm.sock;  # ← PHPバージョンによっては php8.1-fpm.sock などに変更
    }

    location ~ /\.ht {
        deny all;
    }
}

・設定テスト
sudo nginx -t

・Nginxを再起動して新しい設定を反映
sudo systemctl restart nginx

・エラー発生
docker側でインストールしていたnginxが動作していいた

・８０開ける
docker stop laravel-quiz-qpp_laravel.test_1

・sudo systemctl start nginxで再起動

・sudo lsof -i :80で確認

・sudo apt install -y certbot python3-certbot-nginx

・証明書作成

・ドッカーにあるファイルにアクセスできないのでコピー
docker cp laravel-quiz-qpp_laravel.test_1:/var/www/html /home/ubuntu/laravel-quiz-qpp

mv /home/ubuntu/laravel-quiz-q /home/ubuntu/laravel-quiz-qpp
cp .env.example .env
sudo apt install composer 
できない

・バージョンアップする
sudo add-apt-repository ppa:ondrej/php -y
sudo apt update
sudo apt install -y php8.3 php8.3-cli php8.3-fpm php8.3-mbstring php8.3-xml php8.3-curl php8.3-mysql php8.3-bcmath php8.3-intl unzip
sudo update-alternatives --install /usr/bin/php php /usr/bin/php8.3 1
sudo update-alternatives --set php /usr/bin/php8.3

・権限
sudo chown -R www-data:www-data /home/ubuntu/laravel-quiz-qpp
sudo chmod -R 755 /home/ubuntu/laravel-quiz-qpp


 ポート 443 は すでに laravel.test コンテナが使っている。
そのため、nginx コンテナでは使えない。

\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

[ ホストOS (EC2) ]
├── nginx（ホスト上） ← 443/80でListen中、Let's Encryptの設定あり
└── Dockerコンテナ（laravel.test_1）
    └── Laravelアプリ（HTTPで動作）

docker-compose.override.yml に nginx を追記

  GNU nano 7.2                                  docker-compose.override.yml *                                         
services:
  laravel.test:
    ports:
      - "80:80"
      - "443:443"
      - "5173:5173"

  nginx:
    image: nginx:latest
    container_name: nginx-proxy
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/conf.d:/etc/nginx/conf.d:ro
      - ./nginx/ssl:/etc/ssl:ro
    depends_on:
      - laravel.test
    networks:
      - sail

networks:
  sail:
    external: true

mkdir -p nginx/conf.d

nano nginx/conf.d/default.conf

server {
    listen 80;
    server_name localhost;

    root /var/www/html/public;
    index index.php index.html;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location ~ \.php$ {
        include fastcgi_params;
        fastcgi_pass laravel.test:9000;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        fastcgi_param PATH_INFO $fastcgi_path_info;
        fastcgi_index index.php;
    }

    location ~ /\.ht {
        deny all;
    }
}

cd ~/laravel-quiz-qpp  # プロジェクトディレクトリへ
docker-compose down    # コンテナ停止と削除
docker-compose up -d --build  # バックグラウンドで再構築 & 起動

ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ docker network create sail
a4c2e7e74ca95fb1a84b0a1bb25a94b5e44e9a3c10a89956c5fb2da62f2e5f04


.env ファイルの .env または .env.docker

sudo nano .env

WWWUSER=1000
WWWGROUP=1000
を加える






















<!-- 今までのコマンド -->
sudo chown -R www-data:www-data /home/ubuntu/laravel-quiz-qpp
sudo find /home/ubuntu/laravel-quiz-qpp -type f -exec chmod 644 {} \;
sudo find /home/ubuntu/laravel-quiz-qpp -type d -exec chmod 755 {} \;
No VM guests are running outdated hypervisor (qemu) binaries on this host.
ubuntu@ip-172-26-8-6:~$ sudo nano /etc/nginx/sites-available/default
ubuntu@ip-172-26-8-6:~$ sudo nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
ubuntu@ip-172-26-8-6:~$ sudo systemctl restart nginx
Job for nginx.service failed because the control process exited with error code.
See "systemctl status nginx.service" and "journalctl -xeu nginx.service" for details.
ubuntu@ip-172-26-8-6:~$ sudo systemctl status nginx.service
× nginx.service - A high performance web server and a reverse proxy server
     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
     Active: failed (Result: exit-code) since Wed 2025-04-02 02:13:47 UTC; 26s ago
       Docs: man:nginx(8)
    Process: 129802 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
    Process: 129803 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=1/FAILURE)
        CPU: 63ms

Apr 02 02:13:46 ip-172-26-8-6 nginx[129803]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Unknown error)
Apr 02 02:13:46 ip-172-26-8-6 nginx[129803]: nginx: [emerg] bind() to [::]:80 failed (98: Unknown error)
Apr 02 02:13:46 ip-172-26-8-6 nginx[129803]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Unknown error)
Apr 02 02:13:46 ip-172-26-8-6 nginx[129803]: nginx: [emerg] bind() to [::]:80 failed (98: Unknown error)
Apr 02 02:13:47 ip-172-26-8-6 nginx[129803]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Unknown error)
Apr 02 02:13:47 ip-172-26-8-6 nginx[129803]: nginx: [emerg] bind() to [::]:80 failed (98: Unknown error)
Apr 02 02:13:47 ip-172-26-8-6 nginx[129803]: nginx: [emerg] still could not bind()
Apr 02 02:13:47 ip-172-26-8-6 systemd[1]: nginx.service: Control process exited, code=exited, status=1/FAILURE
Apr 02 02:13:47 ip-172-26-8-6 systemd[1]: nginx.service: Failed with result 'exit-code'.
Apr 02 02:13:47 ip-172-26-8-6 systemd[1]: Failed to start A high performance web server and a reverse proxy server.
ubuntu@ip-172-26-8-6:~$ sudo netstat -tulpn | grep :80
sudo: netstat: command not found
ubuntu@ip-172-26-8-6:~$ sudo lsof -i :80
COMMAND     PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
docker-pr 98869 root    4u  IPv4 460409      0t0  TCP *:http (LISTEN)
docker-pr 98876 root    4u  IPv6 461180      0t0  TCP *:http (LISTEN)
ubuntu@ip-172-26-8-6:~$ docker ps
CONTAINER ID   IMAGE                    COMMAND                  CREATED        STATUS                  PORTS                                                                                                                 NAMES
9bbdf56580c2   sail-8.4/app             "start-container"        14 hours ago   Up 14 hours             0.0.0.0:80->80/tcp, :::80->80/tcp, 0.0.0.0:443->443/tcp, :::443->443/tcp, 0.0.0.0:5173->5173/tcp, :::5173->5173/tcp   laravel-quiz-qpp_laravel.test_1
bb61acb39043   mysql/mysql-server:8.0   "/entrypoint.sh mysq…"   14 hours ago   Up 14 hours (healthy)   0.0.0.0:3306->3306/tcp, :::3306->3306/tcp, 33060-33061/tcp                                                            laravel-quiz-qpp_mysql_1
ubuntu@ip-172-26-8-6:~$ docker stop laravel-quiz-qpp_laravel.test_1
laravel-quiz-qpp_laravel.test_1
ubuntu@ip-172-26-8-6:~$ sudo systemctl start nginx
ubuntu@ip-172-26-8-6:~$ sudo lsof -i :80
COMMAND    PID     USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
nginx   130059     root    6u  IPv4 611951      0t0  TCP *:http (LISTEN)
nginx   130059     root    7u  IPv6 611952      0t0  TCP *:http (LISTEN)
nginx   130060 www-data    6u  IPv4 611951      0t0  TCP *:http (LISTEN)
nginx   130060 www-data    7u  IPv6 611952      0t0  TCP *:http (LISTEN)
nginx   130061 www-data    6u  IPv4 611951      0t0  TCP *:http (LISTEN)
nginx   130061 www-data    7u  IPv6 611952      0t0  TCP *:http (LISTEN)
ubuntu@ip-172-26-8-6:~$ sudo apt install -y certbot python3-certbot-nginx
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  python3-acme python3-certbot python3-configargparse python3-icu python3-josepy python3-parsedatetime python3-requests-toolbelt
  python3-rfc3339 python3-zope.component python3-zope.event python3-zope.hookable
Suggested packages:
  python-certbot-doc python3-certbot-apache python-acme-doc python-certbot-nginx-doc
The following NEW packages will be installed:
  certbot python3-acme python3-certbot python3-certbot-nginx python3-configargparse python3-icu python3-josepy python3-parsedatetime
  python3-requests-toolbelt python3-rfc3339 python3-zope.component python3-zope.event python3-zope.hookable
0 upgraded, 13 newly installed, 0 to remove and 7 not upgraded.
Need to get 993 kB of archives.
After this operation, 5077 kB of additional disk space will be used.
Get:1 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-josepy all 1.10.0-1 [22.0 kB]
Get:2 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 python3-requests-toolbelt all 0.9.1-1 [38.0 kB]
Get:3 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 python3-rfc3339 all 1.1-3 [7110 B]
Get:4 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 python3-acme all 1.21.0-1ubuntu0.1 [36.4 kB]
Get:5 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-configargparse all 1.5.3-1 [26.9 kB]
Get:6 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-parsedatetime all 2.6-2 [32.9 kB]
Get:7 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-zope.hookable amd64 5.1.0-1build1 [11.6 kB]
Get:8 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-zope.event all 4.4-3 [8180 B]
Get:9 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-zope.component all 4.3.0-3 [38.3 kB]
Get:10 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-certbot all 1.21.0-1build1 [175 kB]
Get:11 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 certbot all 1.21.0-1build1 [21.3 kB]
Get:12 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-certbot-nginx all 1.21.0-1 [35.4 kB]
Get:13 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 python3-icu amd64 2.8.1-0ubuntu2 [540 kB]
Fetched 993 kB in 0s (27.6 MB/s)       
Preconfiguring packages ...
Selecting previously unselected package python3-josepy.
(Reading database ... 97348 files and directories currently installed.)
Preparing to unpack .../00-python3-josepy_1.10.0-1_all.deb ...
Unpacking python3-josepy (1.10.0-1) ...
Selecting previously unselected package python3-requests-toolbelt.
Preparing to unpack .../01-python3-requests-toolbelt_0.9.1-1_all.deb ...
Unpacking python3-requests-toolbelt (0.9.1-1) ...
Selecting previously unselected package python3-rfc3339.
Preparing to unpack .../02-python3-rfc3339_1.1-3_all.deb ...
Unpacking python3-rfc3339 (1.1-3) ...
Selecting previously unselected package python3-acme.
Preparing to unpack .../03-python3-acme_1.21.0-1ubuntu0.1_all.deb ...
Unpacking python3-acme (1.21.0-1ubuntu0.1) ...
Selecting previously unselected package python3-configargparse.
Preparing to unpack .../04-python3-configargparse_1.5.3-1_all.deb ...
Unpacking python3-configargparse (1.5.3-1) ...
Selecting previously unselected package python3-parsedatetime.
Preparing to unpack .../05-python3-parsedatetime_2.6-2_all.deb ...
Unpacking python3-parsedatetime (2.6-2) ...
Selecting previously unselected package python3-zope.hookable.
Preparing to unpack .../06-python3-zope.hookable_5.1.0-1build1_amd64.deb ...
Unpacking python3-zope.hookable (5.1.0-1build1) ...
Selecting previously unselected package python3-zope.event.
Preparing to unpack .../07-python3-zope.event_4.4-3_all.deb ...
Unpacking python3-zope.event (4.4-3) ...
Selecting previously unselected package python3-zope.component.
Preparing to unpack .../08-python3-zope.component_4.3.0-3_all.deb ...
Unpacking python3-zope.component (4.3.0-3) ...
Selecting previously unselected package python3-certbot.
Preparing to unpack .../09-python3-certbot_1.21.0-1build1_all.deb ...
Unpacking python3-certbot (1.21.0-1build1) ...
Selecting previously unselected package certbot.
Preparing to unpack .../10-certbot_1.21.0-1build1_all.deb ...
Unpacking certbot (1.21.0-1build1) ...
Selecting previously unselected package python3-certbot-nginx.
Preparing to unpack .../11-python3-certbot-nginx_1.21.0-1_all.deb ...
Unpacking python3-certbot-nginx (1.21.0-1) ...
Selecting previously unselected package python3-icu.
Preparing to unpack .../12-python3-icu_2.8.1-0ubuntu2_amd64.deb ...
Unpacking python3-icu (2.8.1-0ubuntu2) ...
Setting up python3-configargparse (1.5.3-1) ...
Setting up python3-requests-toolbelt (0.9.1-1) ...
Setting up python3-parsedatetime (2.6-2) ...
Setting up python3-icu (2.8.1-0ubuntu2) ...
Setting up python3-zope.event (4.4-3) ...
Setting up python3-zope.hookable (5.1.0-1build1) ...
Setting up python3-josepy (1.10.0-1) ...
Setting up python3-rfc3339 (1.1-3) ...
Setting up python3-zope.component (4.3.0-3) ...
Setting up python3-acme (1.21.0-1ubuntu0.1) ...
Setting up python3-certbot (1.21.0-1build1) ...
Setting up certbot (1.21.0-1build1) ...
Created symlink /etc/systemd/system/timers.target.wants/certbot.timer → /lib/systemd/system/certbot.timer.
Setting up python3-certbot-nginx (1.21.0-1) ...
Processing triggers for man-db (2.10.2-1) ...
Scanning processes...                                                                                                                     
Scanning linux images...                                                                                                                  

Running kernel seems to be up-to-date.

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
ubuntu@ip-172-26-8-6:~$ sudo certbot --nginx
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Enter email address (used for urgent renewal and security notices)
 (Enter 'c' to cancel): pero197030@icloud.com

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Please read the Terms of Service at
https://letsencrypt.org/documents/LE-SA-v1.5-February-24-2025.pdf. You must
agree in order to register with the ACME server. Do you agree?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(Y)es/(N)o: Y

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Would you be willing, once your first certificate is successfully issued, to
share your email address with the Electronic Frontier Foundation, a founding
partner of the Let's Encrypt project and the non-profit organization that
develops Certbot? We'd like to send you email about our work encrypting the web,
EFF news, campaigns, and ways to support digital freedom.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(Y)es/(N)o:  N
(Y)es/(N)o: N   
Account registered.

Which names would you like to activate HTTPS for?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: quiz-app-laravel-moriyama.xyz
2: www.quiz-app-laravel-moriyama.xyz
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Select the appropriate numbers separated by commas and/or spaces, or leave input
blank to select all options shown (Enter 'c' to cancel): 
Requesting a certificate for quiz-app-laravel-moriyama.xyz and www.quiz-app-laravel-moriyama.xyz

Successfully received certificate.
Certificate is saved at: /etc/letsencrypt/live/quiz-app-laravel-moriyama.xyz/fullchain.pem
Key is saved at:         /etc/letsencrypt/live/quiz-app-laravel-moriyama.xyz/privkey.pem
This certificate expires on 2025-07-01.
These files will be updated when the certificate renews.
Certbot has set up a scheduled task to automatically renew this certificate in the background.

Deploying certificate
Successfully deployed certificate for quiz-app-laravel-moriyama.xyz to /etc/nginx/sites-enabled/default
Successfully deployed certificate for www.quiz-app-laravel-moriyama.xyz to /etc/nginx/sites-enabled/default
Congratulations! You have successfully enabled HTTPS on https://quiz-app-laravel-moriyama.xyz and https://www.quiz-app-laravel-moriyama.xyz

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
If you like Certbot, please consider supporting our work by:
 * Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate
 * Donating to EFF:                    https://eff.org/donate-le
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
ubuntu@ip-172-26-8-6:~$ sudo nano /etc/nginx/sites-enabled/default
ubuntu@ip-172-26-8-6:~$ ls -l /home/ubuntu/laravel-quiz-qpp/public
total 12
drwxr-xr-x 3 ubuntu ubuntu 4096 Mar 30 10:50 build
-rw-rw-r-- 1 ubuntu ubuntu    0 Mar 30 04:36 favicon.ico
-rw-rw-r-- 1 ubuntu ubuntu  543 Mar 30 04:36 index.php
-rw-rw-r-- 1 ubuntu ubuntu   24 Mar 30 04:36 robots.txt
ubuntu@ip-172-26-8-6:~$ cd laravel-quiz-qpp
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ ls -l /home/ubuntu/laravel-quiz-qpp/public
total 12
drwxr-xr-x 3 ubuntu ubuntu 4096 Mar 30 10:50 build
-rw-rw-r-- 1 ubuntu ubuntu    0 Mar 30 04:36 favicon.ico
-rw-rw-r-- 1 ubuntu ubuntu  543 Mar 30 04:36 index.php
-rw-rw-r-- 1 ubuntu ubuntu   24 Mar 30 04:36 robots.txt
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ docker cp laravel-quiz-qpp_laravel.test_1:/var/www/html /home/ubuntu/laravel-quiz-q
Successfully copied 164MB to /home/ubuntu/laravel-quiz-q
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ mv /home/ubuntu/laravel-quiz-q /home/ubuntu/laravel-quiz-qpp
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ ls -l /home/ubuntu/laravel-quiz-qpp/.env.example
-rw-rw-r-- 1 ubuntu ubuntu 1084 Mar 30 04:36 /home/ubuntu/laravel-quiz-qpp/.env.example
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ cp .env.example .env
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ composer install
Command 'composer' not found, but can be installed with:
sudo apt install composer
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ sudo apt install composer
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  bzip2 jsonlint libonig5 mailcap mime-support php-cli php-common php-composer-ca-bundle php-composer-metadata-minifier
  php-composer-pcre php-composer-semver php-composer-spdx-licenses php-composer-xdebug-handler php-intl php-json-schema php-mbstring
  php-psr-container php-psr-log php-react-promise php-symfony-console php-symfony-deprecation-contracts php-symfony-filesystem
  php-symfony-finder php-symfony-polyfill-php80 php-symfony-process php-symfony-service-contracts php-symfony-string php8.1-cli
  php8.1-common php8.1-intl php8.1-mbstring php8.1-opcache php8.1-readline
Suggested packages:
  bzip2-doc fossil mercurial subversion php-zip php-symfony-event-dispatcher php-symfony-lock php-symfony-service-implementation
  php-pear
The following NEW packages will be installed:
  bzip2 composer jsonlint libonig5 mailcap mime-support php-cli php-common php-composer-ca-bundle php-composer-metadata-minifier
  php-composer-pcre php-composer-semver php-composer-spdx-licenses php-composer-xdebug-handler php-intl php-json-schema php-mbstring
  php-psr-container php-psr-log php-react-promise php-symfony-console php-symfony-deprecation-contracts php-symfony-filesystem
  php-symfony-finder php-symfony-polyfill-php80 php-symfony-process php-symfony-service-contracts php-symfony-string php8.1-cli
  php8.1-common php8.1-intl php8.1-mbstring php8.1-opcache php8.1-readline
0 upgraded, 34 newly installed, 0 to remove and 7 not upgraded.
Need to get 5008 kB of archives.
After this operation, 23.0 MB of additional disk space will be used.
Do you want to continue? [Y/n] Y
Get:1 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 bzip2 amd64 1.0.8-5build1 [34.8 kB]
Get:2 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 mailcap all 3.70+nmu1ubuntu1 [23.8 kB]
Get:3 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 mime-support all 3.66 [3696 B]
Get:4 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 php-common all 2:92ubuntu1 [12.4 kB]
Get:5 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 php8.1-common amd64 8.1.2-1ubuntu2.21 [1129 kB]
Get:6 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 php8.1-opcache amd64 8.1.2-1ubuntu2.21 [365 kB]
Get:7 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 php8.1-readline amd64 8.1.2-1ubuntu2.21 [13.6 kB]
Get:8 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 php8.1-cli amd64 8.1.2-1ubuntu2.21 [1834 kB]
Get:9 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 php-cli all 2:8.1+92ubuntu1 [3234 B]
Get:10 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-composer-ca-bundle all 1.3.1-1 [10.4 kB]
Get:11 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-composer-metadata-minifier all 1.0.0-2 [3594 B]
Get:12 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-composer-semver all 3.2.9-1 [18.2 kB]
Get:13 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-composer-spdx-licenses all 1.5.6-1 [13.2 kB]
Get:14 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-psr-log all 3.0.0-1 [6862 B]
Get:15 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-composer-pcre all 1.0.1-1 [7810 B]
Get:16 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-composer-xdebug-handler all 2.0.4-1build1 [16.6 kB]
Get:17 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-json-schema all 5.2.11-1 [33.9 kB]
Get:18 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 jsonlint all 1.8.3-2 [12.1 kB]
Get:19 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-symfony-deprecation-contracts all 2.4.0-1ubuntu2 [4700 B]
Get:20 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 libonig5 amd64 6.9.7.1-2build1 [172 kB]
Get:21 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 php8.1-mbstring amd64 8.1.2-1ubuntu2.21 [484 kB]
Get:22 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-mbstring all 2:8.1+92ubuntu1 [1844 B]
Get:23 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-symfony-polyfill-php80 all 1.24.0-1ubuntu2 [6642 B]
Get:24 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-psr-container all 2.0.2-1 [3878 B]
Get:25 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-symfony-service-contracts all 2.4.0-1ubuntu2 [8136 B]
Get:26 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 php8.1-intl amd64 8.1.2-1ubuntu2.21 [142 kB]
Get:27 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-intl all 2:8.1+92ubuntu1 [1840 B]
Get:28 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-symfony-string all 5.4.4+dfsg-1ubuntu8 [36.8 kB]
Get:29 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-symfony-console all 5.4.4+dfsg-1ubuntu8 [84.1 kB]
Get:30 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-symfony-filesystem all 5.4.4+dfsg-1ubuntu8 [23.9 kB]
Get:31 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-symfony-finder all 5.4.4+dfsg-1ubuntu8 [24.9 kB]
Get:32 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-symfony-process all 5.4.4+dfsg-1ubuntu8 [28.6 kB]
Get:33 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 php-react-promise all 2.7.0-2 [16.4 kB]
Get:34 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy/universe amd64 composer all 2.2.6-2ubuntu4 [425 kB]
Fetched 5008 kB in 5s (967 kB/s)  
Extracting templates from packages: 100%
Selecting previously unselected package bzip2.
(Reading database ... 97767 files and directories currently installed.)
Preparing to unpack .../00-bzip2_1.0.8-5build1_amd64.deb ...
Unpacking bzip2 (1.0.8-5build1) ...
Selecting previously unselected package mailcap.
Preparing to unpack .../01-mailcap_3.70+nmu1ubuntu1_all.deb ...
Unpacking mailcap (3.70+nmu1ubuntu1) ...
Selecting previously unselected package mime-support.
Preparing to unpack .../02-mime-support_3.66_all.deb ...
Unpacking mime-support (3.66) ...
Selecting previously unselected package php-common.
Preparing to unpack .../03-php-common_2%3a92ubuntu1_all.deb ...
Unpacking php-common (2:92ubuntu1) ...
Selecting previously unselected package php8.1-common.
Preparing to unpack .../04-php8.1-common_8.1.2-1ubuntu2.21_amd64.deb ...
Unpacking php8.1-common (8.1.2-1ubuntu2.21) ...
Selecting previously unselected package php8.1-opcache.
Preparing to unpack .../05-php8.1-opcache_8.1.2-1ubuntu2.21_amd64.deb ...
Unpacking php8.1-opcache (8.1.2-1ubuntu2.21) ...
Selecting previously unselected package php8.1-readline.
Preparing to unpack .../06-php8.1-readline_8.1.2-1ubuntu2.21_amd64.deb ...
Unpacking php8.1-readline (8.1.2-1ubuntu2.21) ...
Selecting previously unselected package php8.1-cli.
Preparing to unpack .../07-php8.1-cli_8.1.2-1ubuntu2.21_amd64.deb ...
Unpacking php8.1-cli (8.1.2-1ubuntu2.21) ...
Selecting previously unselected package php-cli.
Preparing to unpack .../08-php-cli_2%3a8.1+92ubuntu1_all.deb ...
Unpacking php-cli (2:8.1+92ubuntu1) ...
Selecting previously unselected package php-composer-ca-bundle.
Preparing to unpack .../09-php-composer-ca-bundle_1.3.1-1_all.deb ...
Unpacking php-composer-ca-bundle (1.3.1-1) ...
Selecting previously unselected package php-composer-metadata-minifier.
Preparing to unpack .../10-php-composer-metadata-minifier_1.0.0-2_all.deb ...
Unpacking php-composer-metadata-minifier (1.0.0-2) ...
Selecting previously unselected package php-composer-semver.
Preparing to unpack .../11-php-composer-semver_3.2.9-1_all.deb ...
Unpacking php-composer-semver (3.2.9-1) ...
Selecting previously unselected package php-composer-spdx-licenses.
Preparing to unpack .../12-php-composer-spdx-licenses_1.5.6-1_all.deb ...
Unpacking php-composer-spdx-licenses (1.5.6-1) ...
Selecting previously unselected package php-psr-log.
Preparing to unpack .../13-php-psr-log_3.0.0-1_all.deb ...
Unpacking php-psr-log (3.0.0-1) ...
Selecting previously unselected package php-composer-pcre.
Preparing to unpack .../14-php-composer-pcre_1.0.1-1_all.deb ...
Unpacking php-composer-pcre (1.0.1-1) ...
Selecting previously unselected package php-composer-xdebug-handler.
Preparing to unpack .../15-php-composer-xdebug-handler_2.0.4-1build1_all.deb ...
Unpacking php-composer-xdebug-handler (2.0.4-1build1) ...
Selecting previously unselected package php-json-schema.
Preparing to unpack .../16-php-json-schema_5.2.11-1_all.deb ...
Unpacking php-json-schema (5.2.11-1) ...
Selecting previously unselected package jsonlint.
Preparing to unpack .../17-jsonlint_1.8.3-2_all.deb ...
Unpacking jsonlint (1.8.3-2) ...
Selecting previously unselected package php-symfony-deprecation-contracts.
Preparing to unpack .../18-php-symfony-deprecation-contracts_2.4.0-1ubuntu2_all.deb ...
Unpacking php-symfony-deprecation-contracts (2.4.0-1ubuntu2) ...
Selecting previously unselected package libonig5:amd64.
Preparing to unpack .../19-libonig5_6.9.7.1-2build1_amd64.deb ...
Unpacking libonig5:amd64 (6.9.7.1-2build1) ...
Selecting previously unselected package php8.1-mbstring.
Preparing to unpack .../20-php8.1-mbstring_8.1.2-1ubuntu2.21_amd64.deb ...
Unpacking php8.1-mbstring (8.1.2-1ubuntu2.21) ...
Selecting previously unselected package php-mbstring.
Preparing to unpack .../21-php-mbstring_2%3a8.1+92ubuntu1_all.deb ...
Unpacking php-mbstring (2:8.1+92ubuntu1) ...
Selecting previously unselected package php-symfony-polyfill-php80.
Preparing to unpack .../22-php-symfony-polyfill-php80_1.24.0-1ubuntu2_all.deb ...
Unpacking php-symfony-polyfill-php80 (1.24.0-1ubuntu2) ...
Selecting previously unselected package php-psr-container.
Preparing to unpack .../23-php-psr-container_2.0.2-1_all.deb ...
Unpacking php-psr-container (2.0.2-1) ...
Selecting previously unselected package php-symfony-service-contracts.
Preparing to unpack .../24-php-symfony-service-contracts_2.4.0-1ubuntu2_all.deb ...
Unpacking php-symfony-service-contracts (2.4.0-1ubuntu2) ...
Selecting previously unselected package php8.1-intl.
Preparing to unpack .../25-php8.1-intl_8.1.2-1ubuntu2.21_amd64.deb ...
Unpacking php8.1-intl (8.1.2-1ubuntu2.21) ...
Selecting previously unselected package php-intl.
Preparing to unpack .../26-php-intl_2%3a8.1+92ubuntu1_all.deb ...
Unpacking php-intl (2:8.1+92ubuntu1) ...
Selecting previously unselected package php-symfony-string.
Preparing to unpack .../27-php-symfony-string_5.4.4+dfsg-1ubuntu8_all.deb ...
Unpacking php-symfony-string (5.4.4+dfsg-1ubuntu8) ...
Selecting previously unselected package php-symfony-console.
Preparing to unpack .../28-php-symfony-console_5.4.4+dfsg-1ubuntu8_all.deb ...
Unpacking php-symfony-console (5.4.4+dfsg-1ubuntu8) ...
Selecting previously unselected package php-symfony-filesystem.
Preparing to unpack .../29-php-symfony-filesystem_5.4.4+dfsg-1ubuntu8_all.deb ...
Unpacking php-symfony-filesystem (5.4.4+dfsg-1ubuntu8) ...
Selecting previously unselected package php-symfony-finder.
Preparing to unpack .../30-php-symfony-finder_5.4.4+dfsg-1ubuntu8_all.deb ...
Unpacking php-symfony-finder (5.4.4+dfsg-1ubuntu8) ...
Selecting previously unselected package php-symfony-process.
Preparing to unpack .../31-php-symfony-process_5.4.4+dfsg-1ubuntu8_all.deb ...
Unpacking php-symfony-process (5.4.4+dfsg-1ubuntu8) ...
Selecting previously unselected package php-react-promise.
Preparing to unpack .../32-php-react-promise_2.7.0-2_all.deb ...
Unpacking php-react-promise (2.7.0-2) ...
Selecting previously unselected package composer.
Preparing to unpack .../33-composer_2.2.6-2ubuntu4_all.deb ...
Unpacking composer (2.2.6-2ubuntu4) ...
Setting up php-common (2:92ubuntu1) ...
Created symlink /etc/systemd/system/timers.target.wants/phpsessionclean.timer → /lib/systemd/system/phpsessionclean.timer.
Setting up php8.1-common (8.1.2-1ubuntu2.21) ...

Creating config file /etc/php/8.1/mods-available/calendar.ini with new version

Creating config file /etc/php/8.1/mods-available/ctype.ini with new version

Creating config file /etc/php/8.1/mods-available/exif.ini with new version

Creating config file /etc/php/8.1/mods-available/fileinfo.ini with new version

Creating config file /etc/php/8.1/mods-available/ffi.ini with new version

Creating config file /etc/php/8.1/mods-available/ftp.ini with new version

Creating config file /etc/php/8.1/mods-available/gettext.ini with new version

Creating config file /etc/php/8.1/mods-available/iconv.ini with new version

Creating config file /etc/php/8.1/mods-available/pdo.ini with new version

Creating config file /etc/php/8.1/mods-available/phar.ini with new version

Creating config file /etc/php/8.1/mods-available/posix.ini with new version

Creating config file /etc/php/8.1/mods-available/shmop.ini with new version

Creating config file /etc/php/8.1/mods-available/sockets.ini with new version

Creating config file /etc/php/8.1/mods-available/sysvmsg.ini with new version

Creating config file /etc/php/8.1/mods-available/sysvsem.ini with new version

Creating config file /etc/php/8.1/mods-available/sysvshm.ini with new version

Creating config file /etc/php/8.1/mods-available/tokenizer.ini with new version
Setting up php-psr-container (2.0.2-1) ...
Setting up php-composer-pcre (1.0.1-1) ...
Setting up php-symfony-service-contracts (2.4.0-1ubuntu2) ...
Setting up bzip2 (1.0.8-5build1) ...
Setting up php-composer-ca-bundle (1.3.1-1) ...
Setting up php-react-promise (2.7.0-2) ...
Setting up php-psr-log (3.0.0-1) ...
Setting up php-symfony-polyfill-php80 (1.24.0-1ubuntu2) ...
Setting up php-composer-metadata-minifier (1.0.0-2) ...
Setting up php-composer-semver (3.2.9-1) ...
Setting up php8.1-readline (8.1.2-1ubuntu2.21) ...

Creating config file /etc/php/8.1/mods-available/readline.ini with new version
Setting up php-composer-spdx-licenses (1.5.6-1) ...
Setting up mailcap (3.70+nmu1ubuntu1) ...
Setting up php8.1-opcache (8.1.2-1ubuntu2.21) ...

Creating config file /etc/php/8.1/mods-available/opcache.ini with new version
Setting up php8.1-intl (8.1.2-1ubuntu2.21) ...

Creating config file /etc/php/8.1/mods-available/intl.ini with new version
Setting up libonig5:amd64 (6.9.7.1-2build1) ...
Setting up php-symfony-deprecation-contracts (2.4.0-1ubuntu2) ...
Setting up php-symfony-finder (5.4.4+dfsg-1ubuntu8) ...
Setting up php-composer-xdebug-handler (2.0.4-1build1) ...
Setting up mime-support (3.66) ...
Setting up php8.1-mbstring (8.1.2-1ubuntu2.21) ...

Creating config file /etc/php/8.1/mods-available/mbstring.ini with new version
Setting up php-mbstring (2:8.1+92ubuntu1) ...
Setting up php-intl (2:8.1+92ubuntu1) ...
Setting up php8.1-cli (8.1.2-1ubuntu2.21) ...
update-alternatives: using /usr/bin/php8.1 to provide /usr/bin/php (php) in auto mode
update-alternatives: using /usr/bin/phar8.1 to provide /usr/bin/phar (phar) in auto mode
update-alternatives: using /usr/bin/phar.phar8.1 to provide /usr/bin/phar.phar (phar.phar) in auto mode

Creating config file /etc/php/8.1/cli/php.ini with new version
Setting up php-symfony-process (5.4.4+dfsg-1ubuntu8) ...
Setting up php-symfony-filesystem (5.4.4+dfsg-1ubuntu8) ...
Setting up php-cli (2:8.1+92ubuntu1) ...
update-alternatives: using /usr/bin/php.default to provide /usr/bin/php (php) in auto mode
update-alternatives: using /usr/bin/phar.default to provide /usr/bin/phar (phar) in auto mode
update-alternatives: using /usr/bin/phar.phar.default to provide /usr/bin/phar.phar (phar.phar) in auto mode
Setting up php-symfony-string (5.4.4+dfsg-1ubuntu8) ...
Setting up php-json-schema (5.2.11-1) ...
Setting up php-symfony-console (5.4.4+dfsg-1ubuntu8) ...
Setting up jsonlint (1.8.3-2) ...
Setting up composer (2.2.6-2ubuntu4) ...
Processing triggers for man-db (2.10.2-1) ...
Processing triggers for libc-bin (2.35-0ubuntu3.9) ...
Processing triggers for php8.1-cli (8.1.2-1ubuntu2.21) ...
Scanning processes...                                                                                                                     
Scanning linux images...                                                                                                                  

Running kernel seems to be up-to-date.

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ composer install
Installing dependencies from lock file (including require-dev)
Verifying lock file contents can be installed on current platform.
Your lock file does not contain a compatible set of packages. Please run composer update.

  Problem 1
    - Root composer.json requires php ^8.2 but your php version (8.1.2) does not satisfy that requirement.
  Problem 2
    - laravel/framework is locked to version v12.3.0 and an update of this package was not requested.
    - laravel/framework v12.3.0 requires php ^8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 3
    - nunomaduro/termwind is locked to version v2.3.0 and an update of this package was not requested.
    - nunomaduro/termwind v2.3.0 requires php ^8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 4
    - symfony/clock is locked to version v7.2.0 and an update of this package was not requested.
    - symfony/clock v7.2.0 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 5
    - symfony/console is locked to version v7.2.1 and an update of this package was not requested.
    - symfony/console v7.2.1 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 6
    - symfony/css-selector is locked to version v7.2.0 and an update of this package was not requested.
    - symfony/css-selector v7.2.0 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 7
    - symfony/error-handler is locked to version v7.2.4 and an update of this package was not requested.
    - symfony/error-handler v7.2.4 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 8
    - symfony/event-dispatcher is locked to version v7.2.0 and an update of this package was not requested.
    - symfony/event-dispatcher v7.2.0 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 9
    - symfony/finder is locked to version v7.2.2 and an update of this package was not requested.
    - symfony/finder v7.2.2 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 10
    - symfony/http-foundation is locked to version v7.2.3 and an update of this package was not requested.
    - symfony/http-foundation v7.2.3 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 11
    - symfony/http-kernel is locked to version v7.2.4 and an update of this package was not requested.
    - symfony/http-kernel v7.2.4 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 12
    - symfony/mailer is locked to version v7.2.3 and an update of this package was not requested.
    - symfony/mailer v7.2.3 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 13
    - symfony/mime is locked to version v7.2.4 and an update of this package was not requested.
    - symfony/mime v7.2.4 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 14
    - symfony/process is locked to version v7.2.4 and an update of this package was not requested.
    - symfony/process v7.2.4 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 15
    - symfony/routing is locked to version v7.2.3 and an update of this package was not requested.
    - symfony/routing v7.2.3 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 16
    - symfony/string is locked to version v7.2.0 and an update of this package was not requested.
    - symfony/string v7.2.0 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 17
    - symfony/translation is locked to version v7.2.4 and an update of this package was not requested.
    - symfony/translation v7.2.4 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 18
    - symfony/uid is locked to version v7.2.0 and an update of this package was not requested.
    - symfony/uid v7.2.0 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 19
    - symfony/var-dumper is locked to version v7.2.3 and an update of this package was not requested.
    - symfony/var-dumper v7.2.3 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 20
    - tijsverkoyen/css-to-inline-styles is locked to version v2.3.0 and an update of this package was not requested.
    - tijsverkoyen/css-to-inline-styles v2.3.0 requires ext-dom * -> it is missing from your system. Install or enable PHP's dom extension.
  Problem 21
    - dragon-code/pretty-array is locked to version 4.2.0 and an update of this package was not requested.
    - dragon-code/pretty-array 4.2.0 requires ext-dom * -> it is missing from your system. Install or enable PHP's dom extension.
  Problem 22
    - dragon-code/support is locked to version 6.16.0 and an update of this package was not requested.
    - dragon-code/support 6.16.0 requires ext-bcmath * -> it is missing from your system. Install or enable PHP's bcmath extension.
  Problem 23
    - laravel-lang/lang is locked to version 15.19.7 and an update of this package was not requested.
    - laravel-lang/lang 15.19.7 requires php ^8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 24
    - laravel/breeze is locked to version v2.3.6 and an update of this package was not requested.
    - laravel/breeze v2.3.6 requires php ^8.2.0 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 25
    - laravel/pail is locked to version v1.2.2 and an update of this package was not requested.
    - laravel/pail v1.2.2 requires php ^8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 26
    - laravel/pint is locked to version v1.21.2 and an update of this package was not requested.
    - laravel/pint v1.21.2 requires ext-xml * -> it is missing from your system. Install or enable PHP's xml extension.
  Problem 27
    - nunomaduro/collision is locked to version v8.7.0 and an update of this package was not requested.
    - nunomaduro/collision v8.7.0 requires php ^8.2.0 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 28
    - phar-io/manifest is locked to version 2.0.4 and an update of this package was not requested.
    - phar-io/manifest 2.0.4 requires ext-dom * -> it is missing from your system. Install or enable PHP's dom extension.
  Problem 29
    - phpunit/php-code-coverage is locked to version 11.0.9 and an update of this package was not requested.
    - phpunit/php-code-coverage 11.0.9 requires ext-dom * -> it is missing from your system. Install or enable PHP's dom extension.
  Problem 30
    - phpunit/php-file-iterator is locked to version 5.1.0 and an update of this package was not requested.
    - phpunit/php-file-iterator 5.1.0 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 31
    - phpunit/php-invoker is locked to version 5.0.1 and an update of this package was not requested.
    - phpunit/php-invoker 5.0.1 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 32
    - phpunit/php-text-template is locked to version 4.0.1 and an update of this package was not requested.
    - phpunit/php-text-template 4.0.1 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 33
    - phpunit/php-timer is locked to version 7.0.1 and an update of this package was not requested.
    - phpunit/php-timer 7.0.1 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 34
    - phpunit/phpunit is locked to version 11.5.13 and an update of this package was not requested.
    - phpunit/phpunit 11.5.13 requires ext-dom * -> it is missing from your system. Install or enable PHP's dom extension.
  Problem 35
    - sebastian/cli-parser is locked to version 3.0.2 and an update of this package was not requested.
    - sebastian/cli-parser 3.0.2 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 36
    - sebastian/code-unit is locked to version 3.0.2 and an update of this package was not requested.
    - sebastian/code-unit 3.0.2 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 37
    - sebastian/code-unit-reverse-lookup is locked to version 4.0.1 and an update of this package was not requested.
    - sebastian/code-unit-reverse-lookup 4.0.1 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 38
    - sebastian/comparator is locked to version 6.3.1 and an update of this package was not requested.
    - sebastian/comparator 6.3.1 requires ext-dom * -> it is missing from your system. Install or enable PHP's dom extension.
  Problem 39
    - sebastian/complexity is locked to version 4.0.1 and an update of this package was not requested.
    - sebastian/complexity 4.0.1 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 40
    - sebastian/diff is locked to version 6.0.2 and an update of this package was not requested.
    - sebastian/diff 6.0.2 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 41
    - sebastian/environment is locked to version 7.2.0 and an update of this package was not requested.
    - sebastian/environment 7.2.0 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 42
    - sebastian/exporter is locked to version 6.3.0 and an update of this package was not requested.
    - sebastian/exporter 6.3.0 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 43
    - sebastian/global-state is locked to version 7.0.2 and an update of this package was not requested.
    - sebastian/global-state 7.0.2 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 44
    - sebastian/lines-of-code is locked to version 3.0.1 and an update of this package was not requested.
    - sebastian/lines-of-code 3.0.1 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 45
    - sebastian/object-enumerator is locked to version 6.0.1 and an update of this package was not requested.
    - sebastian/object-enumerator 6.0.1 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 46
    - sebastian/object-reflector is locked to version 4.0.1 and an update of this package was not requested.
    - sebastian/object-reflector 4.0.1 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 47
    - sebastian/recursion-context is locked to version 6.0.2 and an update of this package was not requested.
    - sebastian/recursion-context 6.0.2 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 48
    - sebastian/type is locked to version 5.1.2 and an update of this package was not requested.
    - sebastian/type 5.1.2 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 49
    - sebastian/version is locked to version 5.0.2 and an update of this package was not requested.
    - sebastian/version 5.0.2 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 50
    - symfony/yaml is locked to version v7.2.3 and an update of this package was not requested.
    - symfony/yaml v7.2.3 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
  Problem 51
    - theseer/tokenizer is locked to version 1.2.3 and an update of this package was not requested.
    - theseer/tokenizer 1.2.3 requires ext-dom * -> it is missing from your system. Install or enable PHP's dom extension.
  Problem 52
    - symfony/http-foundation v7.2.3 requires php >=8.2 -> your php version (8.1.2) does not satisfy that requirement.
    - fruitcake/php-cors v1.3.0 requires symfony/http-foundation ^4.4|^5.4|^6|^7 -> satisfiable by symfony/http-foundation[v7.2.3].
    - fruitcake/php-cors is locked to version v1.3.0 and an update of this package was not requested.

To enable extensions, verify that they are enabled in your .ini files:
    - /etc/php/8.1/cli/php.ini
    - /etc/php/8.1/cli/conf.d/10-opcache.ini
    - /etc/php/8.1/cli/conf.d/10-pdo.ini
    - /etc/php/8.1/cli/conf.d/20-calendar.ini
    - /etc/php/8.1/cli/conf.d/20-ctype.ini
    - /etc/php/8.1/cli/conf.d/20-exif.ini
    - /etc/php/8.1/cli/conf.d/20-ffi.ini
    - /etc/php/8.1/cli/conf.d/20-fileinfo.ini
    - /etc/php/8.1/cli/conf.d/20-ftp.ini
    - /etc/php/8.1/cli/conf.d/20-gettext.ini
    - /etc/php/8.1/cli/conf.d/20-iconv.ini
    - /etc/php/8.1/cli/conf.d/20-intl.ini
    - /etc/php/8.1/cli/conf.d/20-mbstring.ini
    - /etc/php/8.1/cli/conf.d/20-phar.ini
    - /etc/php/8.1/cli/conf.d/20-posix.ini
    - /etc/php/8.1/cli/conf.d/20-readline.ini
    - /etc/php/8.1/cli/conf.d/20-shmop.ini
    - /etc/php/8.1/cli/conf.d/20-sockets.ini
    - /etc/php/8.1/cli/conf.d/20-sysvmsg.ini
    - /etc/php/8.1/cli/conf.d/20-sysvsem.ini
    - /etc/php/8.1/cli/conf.d/20-sysvshm.ini
    - /etc/php/8.1/cli/conf.d/20-tokenizer.ini
You can also run `php --ini` in a terminal to see which files are used by PHP in CLI mode.
Alternatively, you can run Composer with `--ignore-platform-req=ext-dom --ignore-platform-req=ext-dom --ignore-platform-req=ext-bcmath --ignore-platform-req=ext-xml --ignore-platform-req=ext-dom --ignore-platform-req=ext-dom --ignore-platform-req=ext-dom --ignore-platform-req=ext-dom --ignore-platform-req=ext-dom` to temporarily ignore these required extensions.
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ php -v
PHP 8.1.2-1ubuntu2.21 (cli) (built: Mar 24 2025 19:04:23) (NTS)
Copyright (c) The PHP Group
Zend Engine v4.1.2, Copyright (c) Zend Technologies
    with Zend OPcache v8.1.2-1ubuntu2.21, Copyright (c), by Zend Technologies
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ sudo add-apt-repository ppa:ondrej/php -y
sudo apt update
sudo apt install -y php8.3 php8.3-cli php8.3-fpm php8.3-mbstring php8.3-xml php8.3-curl php8.3-mysql php8.3-bcmath php8.3-intl unzip
sudo update-alternatives --install /usr/bin/php php /usr/bin/php8.3 1
sudo update-alternatives --set php /usr/bin/php8.3
PPA publishes dbgsym, you may need to include 'main/debug' component
Repository: 'deb https://ppa.launchpadcontent.net/ondrej/php/ubuntu/ jammy main'
Description:
Co-installable PHP versions: PHP 5.6, PHP 7.x, PHP 8.x and most requested extensions are included. Only Supported Ubuntu Releases (https://wiki.ubuntu.com/Releases) are provided.

Debian oldstable and stable packages are provided as well: https://deb.sury.org/#debian-dpa

You can get more information about the packages at https://deb.sury.org

BUGS&FEATURES: This PPA now has a issue tracker:
https://deb.sury.org/#bug-reporting

CAVEATS:
1. If you are using php-gearman, you need to add ppa:ondrej/pkg-gearman
2. If you are using apache2, you are advised to add ppa:ondrej/apache2
3. If you are using nginx, you are advised to add ppa:ondrej/nginx-mainline
   or ppa:ondrej/nginx

PLEASE READ: If you like my work and want to give me a little motivation, please consider donating regularly: https://donate.sury.org/

WARNING: add-apt-repository is broken with non-UTF-8 locales, see
https://github.com/oerdnj/deb.sury.org/issues/56 for workaround:

# LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php
More info: https://launchpad.net/~ondrej/+archive/ubuntu/php
Adding repository.
Adding deb entry to /etc/apt/sources.list.d/ondrej-ubuntu-php-jammy.list
Adding disabled deb-src entry to /etc/apt/sources.list.d/ondrej-ubuntu-php-jammy.list
Adding key to /etc/apt/trusted.gpg.d/ondrej-ubuntu-php.gpg with fingerprint B8DC7E53946656EFBCE4C1DD71DAEAAB4AD4CAB6
Hit:1 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy InRelease
Get:2 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]           
Get:3 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy-backports InRelease [127 kB]         
Hit:4 http://security.ubuntu.com/ubuntu jammy-security InRelease                                                     
Get:5 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy InRelease [24.6 kB]    
Get:6 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 Packages [137 kB]
Get:7 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main Translation-en [42.8 kB]
Fetched 460 kB in 3s (177 kB/s)           
Reading package lists... Done
Hit:1 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy InRelease
Hit:2 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy-updates InRelease                                    
Hit:3 http://ap-northeast-1.ec2.archive.ubuntu.com/ubuntu jammy-backports InRelease                                  
Hit:4 http://security.ubuntu.com/ubuntu jammy-security InRelease                                                     
Hit:5 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy InRelease              
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
21 packages can be upgraded. Run 'apt list --upgradable' to see them.
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
unzip is already the newest version (6.0-26ubuntu3.2).
The following additional packages will be installed:
  php8.3-common php8.3-opcache php8.3-readline
Suggested packages:
  php-pear
The following NEW packages will be installed:
  php8.3 php8.3-bcmath php8.3-cli php8.3-common php8.3-curl php8.3-fpm php8.3-intl php8.3-mbstring php8.3-mysql
  php8.3-opcache php8.3-readline php8.3-xml
0 upgraded, 12 newly installed, 0 to remove and 21 not upgraded.
Need to get 6088 kB of archives.
After this operation, 25.7 MB of additional disk space will be used.
Get:1 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3-common amd64 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [773 kB]
Get:2 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3-opcache amd64 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [373 kB]
Get:3 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3-readline amd64 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [13.5 kB]
Get:4 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3-cli amd64 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [1929 kB]
Get:5 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3-fpm amd64 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [1937 kB]
Get:6 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3 all 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [42.9 kB]
Get:7 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3-bcmath amd64 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [16.8 kB]
Get:8 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3-curl amd64 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [40.7 kB]
Get:9 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3-intl amd64 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [163 kB]
Get:10 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3-mbstring amd64 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [539 kB]
Get:11 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3-mysql amd64 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [131 kB]
Get:12 https://ppa.launchpadcontent.net/ondrej/php/ubuntu jammy/main amd64 php8.3-xml amd64 8.3.19-1+ubuntu22.04.1+deb.sury.org+1 [131 kB]
Fetched 6088 kB in 12s (519 kB/s)                                                                                    
Selecting previously unselected package php8.3-common.
(Reading database ... 98800 files and directories currently installed.)
Preparing to unpack .../00-php8.3-common_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_amd64.deb ...
Unpacking php8.3-common (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Selecting previously unselected package php8.3-opcache.
Preparing to unpack .../01-php8.3-opcache_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_amd64.deb ...
Unpacking php8.3-opcache (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Selecting previously unselected package php8.3-readline.
Preparing to unpack .../02-php8.3-readline_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_amd64.deb ...
Unpacking php8.3-readline (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Selecting previously unselected package php8.3-cli.
Preparing to unpack .../03-php8.3-cli_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_amd64.deb ...
Unpacking php8.3-cli (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Selecting previously unselected package php8.3-fpm.
Preparing to unpack .../04-php8.3-fpm_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_amd64.deb ...
Unpacking php8.3-fpm (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Selecting previously unselected package php8.3.
Preparing to unpack .../05-php8.3_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_all.deb ...
Unpacking php8.3 (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Selecting previously unselected package php8.3-bcmath.
Preparing to unpack .../06-php8.3-bcmath_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_amd64.deb ...
Unpacking php8.3-bcmath (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Selecting previously unselected package php8.3-curl.
Preparing to unpack .../07-php8.3-curl_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_amd64.deb ...
Unpacking php8.3-curl (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Selecting previously unselected package php8.3-intl.
Preparing to unpack .../08-php8.3-intl_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_amd64.deb ...
Unpacking php8.3-intl (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Selecting previously unselected package php8.3-mbstring.
Preparing to unpack .../09-php8.3-mbstring_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_amd64.deb ...
Unpacking php8.3-mbstring (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Selecting previously unselected package php8.3-mysql.
Preparing to unpack .../10-php8.3-mysql_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_amd64.deb ...
Unpacking php8.3-mysql (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Selecting previously unselected package php8.3-xml.
Preparing to unpack .../11-php8.3-xml_8.3.19-1+ubuntu22.04.1+deb.sury.org+1_amd64.deb ...
Unpacking php8.3-xml (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Setting up php8.3-common (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...

Creating config file /etc/php/8.3/mods-available/calendar.ini with new version

Creating config file /etc/php/8.3/mods-available/ctype.ini with new version

Creating config file /etc/php/8.3/mods-available/exif.ini with new version

Creating config file /etc/php/8.3/mods-available/fileinfo.ini with new version

Creating config file /etc/php/8.3/mods-available/ffi.ini with new version

Creating config file /etc/php/8.3/mods-available/ftp.ini with new version

Creating config file /etc/php/8.3/mods-available/gettext.ini with new version

Creating config file /etc/php/8.3/mods-available/iconv.ini with new version

Creating config file /etc/php/8.3/mods-available/pdo.ini with new version

Creating config file /etc/php/8.3/mods-available/phar.ini with new version

Creating config file /etc/php/8.3/mods-available/posix.ini with new version

Creating config file /etc/php/8.3/mods-available/shmop.ini with new version

Creating config file /etc/php/8.3/mods-available/sockets.ini with new version

Creating config file /etc/php/8.3/mods-available/sysvmsg.ini with new version

Creating config file /etc/php/8.3/mods-available/sysvsem.ini with new version

Creating config file /etc/php/8.3/mods-available/sysvshm.ini with new version

Creating config file /etc/php/8.3/mods-available/tokenizer.ini with new version
Setting up php8.3-mysql (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...

Creating config file /etc/php/8.3/mods-available/mysqlnd.ini with new version

Creating config file /etc/php/8.3/mods-available/mysqli.ini with new version

Creating config file /etc/php/8.3/mods-available/pdo_mysql.ini with new version
Setting up php8.3-mbstring (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...

Creating config file /etc/php/8.3/mods-available/mbstring.ini with new version
Setting up php8.3-readline (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...

Creating config file /etc/php/8.3/mods-available/readline.ini with new version
Setting up php8.3-bcmath (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...

Creating config file /etc/php/8.3/mods-available/bcmath.ini with new version
Setting up php8.3-xml (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...

Creating config file /etc/php/8.3/mods-available/dom.ini with new version

Creating config file /etc/php/8.3/mods-available/simplexml.ini with new version

Creating config file /etc/php/8.3/mods-available/xml.ini with new version

Creating config file /etc/php/8.3/mods-available/xmlreader.ini with new version

Creating config file /etc/php/8.3/mods-available/xmlwriter.ini with new version

Creating config file /etc/php/8.3/mods-available/xsl.ini with new version
Setting up php8.3-opcache (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...

Creating config file /etc/php/8.3/mods-available/opcache.ini with new version
Setting up php8.3-curl (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...

Creating config file /etc/php/8.3/mods-available/curl.ini with new version
Setting up php8.3-intl (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...

Creating config file /etc/php/8.3/mods-available/intl.ini with new version
Setting up php8.3-cli (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...

Creating config file /etc/php/8.3/cli/php.ini with new version
Setting up php8.3-fpm (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...

Creating config file /etc/php/8.3/fpm/php.ini with new version
Created symlink /etc/systemd/system/multi-user.target.wants/php8.3-fpm.service → /lib/systemd/system/php8.3-fpm.service.
Setting up php8.3 (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Processing triggers for man-db (2.10.2-1) ...
Processing triggers for php8.3-cli (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Processing triggers for php8.3-fpm (8.3.19-1+ubuntu22.04.1+deb.sury.org+1) ...
Scanning processes...                                                                                                 
Scanning linux images...                                                                                              

Running kernel seems to be up-to-date.

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
update-alternatives: using /usr/bin/php8.3 to provide /usr/bin/php (php) in manual mode
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ php -v
PHP 8.3.19 (cli) (built: Mar 13 2025 17:44:15) (NTS)
Copyright (c) The PHP Group
Zend Engine v4.3.19, Copyright (c) Zend Technologies
    with Zend OPcache v8.3.19, Copyright (c), by Zend Technologies
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ composer install
Deprecation Notice: Using ${var} in strings is deprecated, use {$var} instead in /usr/share/php/Symfony/Component/Console/Command/DumpCompletionCommand.php:48
Deprecation Notice: Using ${var} in strings is deprecated, use {$var} instead in /usr/share/php/Symfony/Component/Console/Command/DumpCompletionCommand.php:56
Deprecation Notice: Using ${var} in strings is deprecated, use {$var} instead in /usr/share/php/Composer/Autoload/AutoloadGenerator.php:879
Deprecation Notice: Using ${var} in strings is deprecated, use {$var} instead in /usr/share/php/Composer/Autoload/AutoloadGenerator.php:884
Installing dependencies from lock file (including require-dev)
Verifying lock file contents can be installed on current platform.
Nothing to install, update or remove

In Filesystem.php line 896:
                                                                                                                     
  file_put_contents(/home/ubuntu/laravel-quiz-qpp/vendor/composer/installed.php): Failed to open stream: Permission  
   denied                                                                                                            
                                                                                                                     

install [--prefer-source] [--prefer-dist] [--prefer-install PREFER-INSTALL] [--dry-run] [--dev] [--no-suggest] [--no-dev] [--no-autoloader] [--no-progress] [--no-install] [-v|vv|vvv|--verbose] [-o|--optimize-autoloader] [-a|--classmap-authoritative] [--apcu-autoloader] [--apcu-autoloader-prefix APCU-AUTOLOADER-PREFIX] [--ignore-platform-req IGNORE-PLATFORM-REQ] [--ignore-platform-reqs] [--] [<packages>...]

ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ sudo chown -R www-data:www-data /home/ubuntu/laravel-quiz-qpp
sudo chmod -R 755 /home/ubuntu/laravel-quiz-qpp
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ composer install
Deprecation Notice: Using ${var} in strings is deprecated, use {$var} instead in /usr/share/php/Symfony/Component/Console/Command/DumpCompletionCommand.php:48
Deprecation Notice: Using ${var} in strings is deprecated, use {$var} instead in /usr/share/php/Symfony/Component/Console/Command/DumpCompletionCommand.php:56
Deprecation Notice: Using ${var} in strings is deprecated, use {$var} instead in /usr/share/php/Composer/Autoload/AutoloadGenerator.php:879
Deprecation Notice: Using ${var} in strings is deprecated, use {$var} instead in /usr/share/php/Composer/Autoload/AutoloadGenerator.php:884
Installing dependencies from lock file (including require-dev)
Verifying lock file contents can be installed on current platform.
Nothing to install, update or remove

In Filesystem.php line 896:
                                                                                                                     
  file_put_contents(/home/ubuntu/laravel-quiz-qpp/vendor/composer/installed.php): Failed to open stream: Permission  
   denied                                                                                                            
                                                                                                                     

install [--prefer-source] [--prefer-dist] [--prefer-install PREFER-INSTALL] [--dry-run] [--dev] [--no-suggest] [--no-dev] [--no-autoloader] [--no-progress] [--no-install] [-v|vv|vvv|--verbose] [-o|--optimize-autoloader] [-a|--classmap-authoritative] [--apcu-autoloader] [--apcu-autoloader-prefix APCU-AUTOLOADER-PREFIX] [--ignore-platform-req IGNORE-PLATFORM-REQ] [--ignore-platform-reqs] [--] [<packages>...]

ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ sudo -u www-data composer install
Deprecation Notice: Using ${var} in strings is deprecated, use {$var} instead in /usr/share/php/Symfony/Component/Console/Command/DumpCompletionCommand.php:48
Deprecation Notice: Using ${var} in strings is deprecated, use {$var} instead in /usr/share/php/Symfony/Component/Console/Command/DumpCompletionCommand.php:56

In Application.php line 309:
                                                                                
  file_get_contents(./composer.json): Failed to open stream: Permission denied  
                                                                                

ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ sudo chown -R www-data:www-data /home/ubuntu/laravel-quiz-qpp
sudo find /home/ubuntu/laravel-quiz-qpp -type f -exec chmod 644 {} \;
sudo find /home/ubuntu/laravel-quiz-qpp -type d -exec chmod 755 {} \;
ubuntu@ip-172-26-8-6:~/laravel-quiz-qpp$ 




cd laravel-quiz-qpp
